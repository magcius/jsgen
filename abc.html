<!doctype html>
<html>
  <head>
    <script src="jsgen.js"></script>
    <script src="abc.js"></script>
    <style>
      code {
      white-space: pre;
      display: block;
      margin: 2em;
      border-left: 1px solid #ddd;
      padding-left: 1em;
      }
    </style>

    <script id="sample-bytecode" type="text/plain">
      [
      "newobject"   , [0],
      "setlocal"    , [1],
      "getlocal"    , [1],
      "pushstring"  , ["thing.xml"],
      "setproperty" , ["file"],
      "getlocal"    , [1],
      "pushstring"  , ["value"],
      "setproperty" , ["key"],

      "getlocal"    , [1],
      "pushbyte"    , [3],
      "pushbyte"    , [6],
      "add"         , [],
      "setproperty" , ["three"]
      ]
    </script>
  </head>
  <body>
    <h1>JSGEN</h1>
    From: 
    <code id="raw"></code>
    comes:
    <code id="generated"></code>
    <script>
      var code = document.getElementById("sample-bytecode").innerHTML;
      var jscode = generate("logThing", JSON.parse(code), 0);

      document.getElementById("raw").appendChild(document.createTextNode(code));
      document.getElementById("generated").appendChild(document.createTextNode(jscode));
    </script>
  </body>
</html>
